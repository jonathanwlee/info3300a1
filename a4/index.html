<html>
<head>
	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<style>
.bar {fill:green;}

.axis path { fill: none; stroke: black; }
.axis line { stroke: black; shape-rendering: crispEdges;}
.axis text { font: 12px sans-serif; }

</style>
</head>
<body>

<h2>Normal Distribution</h2>
<div id="normalDis"></div>

<h2>Normal Distribution Mean</h2>
<div id="normalMeanDis"></div>

<h2>Lognormal Distribution</h2>
<div id="lognormalDis"></div>

<h2>Lognormal Mean Distribution</h2>
<div id="lognormalMeanDis"></div>

<h2>Exponential Distribution</h2>
<div id="expoDis"></div>

<h2>Exponential Mean Distribution</h2>
<div id="expoMeanDis"></div>

<h2>Gamma Distribution</h2>
<div id="gammaDis"></div>

<h2>Gamma Mean Distribution</h2>
<div id="gammaMeanDis"></div>

<h2>Cauchy Distribution</h2>
<div id="cauchyDis"></div>

<h2>Cauchy Mean Distribution</h2>
<div id="cauchyMeanDis"></div>

<script>
function plotHistogram(elementID,numbersArray) {
	var numberBins = 40;
	var histogram = d3.layout.histogram().bins(numberBins);
	data = histogram(numbersArray);

	var height = 500;
	var width = 1000;
	var padding = 40;
	var svg = d3.select(elementID).append("svg").attr("height",height).attr("width",width);

	var xScale = d3.scale.linear().domain([d3.min(numbersArray),d3.max(numbersArray)]).range([padding,width-padding]);

	var yScale = d3.scale.linear()
	.domain([0,
		d3.max(data, function (d) {
			//console.log(d.y);
			 return d.y;
		 }) ])
	.range([height- padding, padding]);

	var xAxis = d3.svg.axis().scale(xScale).orient("bottom").ticks(20);
	svg.append("g")
	    .attr("class", "x axis")
	    .attr("transform", "translate(0," + (height-padding) + ")")
	    .call(xAxis);

	var yAxisp = d3.svg.axis().scale(yScale).orient("left");
	svg.append("g").attr("transform", "translate(" + padding + ",0)").attr("class", "axis")
	.call(yAxisp);

	console.log(xScale(0));

	data.forEach(function (bin) {
		svg.append("rect").attr("class", "bar")
		.attr("x", xScale(bin.x))
		.attr("y", yScale(bin.y))
		.attr("width", width/numberBins)
		.attr("height", yScale(0) - yScale(bin.y));});
}

function gaussian() { 
	return d3.random.normal(0.0,1.0)(Math.random());	
	//return Math.random(d3.random.normal(0.0,1.0));
}

function gaussian1000() {
	var gaussianArray = [];
	for (i=0;i<1000;i++) {
		gaussianArray.push(gaussian());
	}

	return gaussianArray; 
}

function gaussian100mean() { 
	var gaussianMeanArray = [];
	for (k=0;k<100;k++) { 
		var gaussianArray = gaussian1000();
		gaussianMeanArray.push(d3.mean(gaussianArray));
	}

	return gaussianMeanArray;
}

function lognormal1000() {
	var lognormalArray = [];
	for (d=0;d<1000;d++) { 
		lognormalArray.push(Math.exp(gaussian()));
	}
	return lognormalArray;
}

function lognormalmean100() {
	var lognormalmeanArray = [];
	for (c=0;c<100;c++) { 
		lognormalmeanArray.push(d3.mean(lognormal1000()));
	}

	return lognormalmeanArray;
}

function exponential1000() {
	var exponentialArray = [];
	for (a=0;a<1000;a++) { 
		exponentialArray.push(-Math.log(Math.random()));
	}
	return exponentialArray;

}

function exponentialmean100() { 
	var exponentialmeanArray = [];
	for (b=0;b<100;b++) { 
		exponentialmeanArray.push(d3.mean(exponential1000()));
	}

	return exponentialmeanArray;


}


function gamma1000() { }

function gammamean100() { }

function cauchy1000() {
	var cauchyArray = [];
	for (x=0;x<1000;x++) { 
		cauchyArray.push((gaussian()/gaussian()));
		console.log(gaussian()/gaussian());
	}

	return cauchyArray;
}

function cauchymean100() {
	var cauchymeanArray = [];
	for (y=0;y<100;y++) { 
		cauchymeanArray.push(d3.mean(cauchy1000()));
	}

	return cauchymeanArray;

}


plotHistogram("#normalDis",gaussian1000());
plotHistogram("#normalMeanDis",gaussian100mean());
plotHistogram("#lognormalDis",lognormal1000());
plotHistogram("#lognormalMeanDis",lognormalmean100());

plotHistogram("#expoDis",exponential1000());
plotHistogram("#expoMeanDis",exponentialmean100());

//plotHistogram("#cauchyDis",cauchy1000());
//plotHistogram("#cauchyMeanDis",cauchymean100());


</script>


</body> 
</html>