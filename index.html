<p>Problem 1 Voter Simulator: 

	<div id="p1output"></div>

	<script>
	function uninformedVoter() { 
		var randomNumber = Math.floor(Math.random() * 3);
		var candidates = ["trump","cruz","rubio"];
		return candidates[randomNumber];
	}

	document.getElementById("p1output").innerText = uninformedVoter();

	</script>
</p>

<p>Problem 2 More Realistic Voter Simulator: 

	<div id="p2output"></div>

	<script>
	function voterGenerator(probArray) {
		return function() { 
			var randomNum = Math.random();

			//probArray[0]
			if (randomNum <= probArray[0]) { 
				return "trump";
			}
			//probArray[1]
			else if (randomNum <= (probArray[0] + probArray[1])) {
				return "cruz";
			}
			//probArray[2] 
			else { 
				return "rubio";
			}
		};
	}

	function likelyVoter() { 
		return voterGenerator([0.42,0.38,0.2])();
	}

	document.getElementById("p2output").innerText = likelyVoter();
	</script>
</p>

<p>Problem 3 Poll Simulator: 

	<div id="p3output"></div>

	<script>

	function pollN(n, voter) { 
		var results = [];
		for (acc= 0; acc < n; acc++) { 
			var poll = voter();
			results.push(poll);
		}
		
		return results;
	}

	document.getElementById("p3output").innerText = pollN(20,likelyVoter);
	</script>

</p>

<p>Problem 4 Declaring Victors: 


	<div id="p4output"></div>

	<script>
	function uninformedVoterTies(candidateArray) { 
		var randomNumber = Math.floor(Math.random() * candidateArray.length);
		//Debug
		//console.log(randomNumber + " " + candidateArray[randomNumber]);
		return candidateArray[randomNumber];
	}

	function winner(n, voter) { 
		var resultsArray = pollN(n,voter);

		//Debug
		//console.log(resultsArray);
		var trumpVotes = 0;
		var rubioVotes = 0;
		var cruzVotes = 0;

		for (var i=0; i < resultsArray.length;i++) { 
			if (resultsArray[i] == "trump") { 
				trumpVotes++;
			}
			else if (resultsArray[i] =="cruz") { 
				cruzVotes++;
			}
			else if (resultsArray[i] == "rubio") { 
				rubioVotes++;
			}

		}
		
		//Debugging
		//console.log("Trump: " + " " + trumpVotes + " Rubio: " + rubioVotes + " Cruz:" + cruzVotes + " Max: " + Math.max(trumpVotes,rubioVotes,cruzVotes));

		var maxVotes = Math.max(trumpVotes,rubioVotes,cruzVotes);
		//Check for ties
		if ((trumpVotes == maxVotes && rubioVotes == maxVotes)) { 
			return uninformedVoterTies(["trump","rubio"]);
		}

		else if (trumpVotes == maxVotes && cruzVotes == maxVotes) { 
			return uninformedVoterTies(["trump","cruz"]);
		}

		else if (cruzVotes == maxVotes && rubioVotes == maxVotes) { 
			return uninformedVoterTies(["cruz","rubio"]);
		}

		else if (trumpVotes == maxVotes && rubioVotes == maxVotes && cruzVotes == maxVotes) { 
			return uninformedVoter();
		}
		//If no ties:
		else { 
			if (trumpVotes == maxVotes) { 
				return "trump";
			}
			else if (cruzVotes == maxVotes) { 
				return "cruz";
			}
			else if (rubioVotes == maxVotes) { 
				return "rubio"
			}
		}
	}

	document.getElementById("p4output").innerText = winner(20,likelyVoter);

	</script>

</p>

<p>Problem 5 Multiple Polls: 

	<div id="p5output"></div>

	<script>

	function multiplePolls(n, k, voter) { 
		var trumpVictories = 0;
		for (var i=0; i < k; i++) { 
			var pollWinner = winner(n,voter); 
			if (pollWinner == "trump") { 
				trumpVictories++;
			}
		}
		return trumpVictories;
	}

	document.getElementById("p5output").innerText = "Number of Trump victories following 5 polls of 100 likely voters: " + multiplePolls(100, 5, likelyVoter);
	</script>

</p>

<p>Problem 6 Sample Size and Margin of Error: 

	<div id="p6output"></div>

	<script>

	document.getElementById("p6output").innerText = "";
	</script>

</p>



<p>Problem 7 Likely Voter From a Different State: 

	<div id="p7output"></div>

	<script>

	function likelyVoterFromDifferentState() { 
		return voterGenerator([0.50,0.30,0.20])();
	}

	document.getElementById("p7output").innerText = "My correct preferences " + multiplePolls(100,10,likelyVoterFromDifferentState); 
	</script>

</p>

